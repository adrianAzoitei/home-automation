kind: ConfigMap
apiVersion: v1
metadata:
  name: home-assistant-configmap
  namespace: home-assistant
data:
  automations.yaml: |-
    alias: Set Thermostat via Slider
    description: Calls REST command whenever the input_number changes
    trigger:
      - platform: state
        entity_id: input_number.central_heating_setpoint
    condition: []
    action:
      - service: rest_command.thermostat_set_point
        data:
          set_point: "{{ states('input_number.central_heating_setpoint') }}"
    mode: single
  configuration.yaml: |-
    default_config:
    frontend:
      themes: !include_dir_merge_named themes
    automation: !include automations.yaml
    http:
      use_x_forwarded_for: true
      trusted_proxies:
        - 0.0.0.0/0
    rest_command:
      thermostat_set_point:
        url: "http://192.168.178.53/room_setpoint"
        method: "post"
        headers:
          Content-Type: "application/x-www-form-urlencoded"
        payload: "value={{ set_point }}"
  known_devices.yaml: ""
  mode: single
